<%
function getTimeSince (date) {
	const diff = Math.round((new Date() - date) / 1000);
	const h = Math.floor(diff / 3600);
	const m = Math.floor(diff % 3600 / 60);
	const s = Math.floor(diff % 3600 % 60);
	let str;
	if (h > 0) {
		str = h + 'h ' + m + 'm ' + s + 's';
	} else if (m > 0) {
		str = m + 'm ' + s + 's';
	} else {
		str = s + 's';
	}
	return str;
}
%>

<center>
	<h6><b><%= uuid %></b></h6>
</center>
<br>
<b>Instance:</b> <%= instance_name %><br>
<% let lastSeenDate = new Date(last_seen * 1000); %>
<b>Last Seen:</b> <%= lastSeenDate.toLocaleTimeString() + ' (' + getTimeSince(lastSeenDate) + ')'; %><br>
<b>Status:</b> <%= last_seen > (Math.round(new Date().getTime() / 1000) - 15 * 60) ? 'Online' : 'Offline' %>